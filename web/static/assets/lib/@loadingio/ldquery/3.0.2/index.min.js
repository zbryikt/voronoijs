(function(){var d,t,i,e,n,u,h,c;if(null==i){for(e in d=function(e,t,n){var r;return(r=new Error(e+" "+t)).data=t,r.json=n,r.id=e,r.code=e,r.name="lderror",r.message=t,r},i=function(e){return new t(e)},(t=function(e){return l(e,t.prototype)}).prototype={find:function(t,n){var r,e,o,u;if((r=this).querySelector||(r=(e=[document,r.toString(),t])[0],t=e[1],n=e[2]),t instanceof HTMLElement)return t;try{return 0===n?r.querySelector(t):(o=Array.from(r.querySelectorAll(t)),n?o[n]:o)}catch(e){throw u=e,console.warn("ld$.find exception: "+t+" / "+n+" under ",r),u}},index:function(){return Array.from(this.parentNode.childNodes).indexOf(this)},child:function(){return Array.from(this.childNodes)},parent:function(e,t){var n;for(null==t&&(t=null),n=this;n&&n!==t;)n=n.parentNode;if(n!==t)return null;if(!e)return this;for(n=this;n&&n!==t&&(!n.matches||n.matches&&!n.matches(e));)n=n.parentNode;return n!==t||t&&t.matches&&t.matches(e)?n:null},cls:function(e,t,n){var r,o,u,s,i,a,c,l=[],f=[],d=this;if("object"==typeof e){for(r in e)o=e[r],l.push(this.classList[o?"add":"remove"](r));return l}for(u=0,i=(s=[[t,!!e],[n,!e]]).length;u<i;++u)c=(a=s[u])[0],o=a[1],f.push((Array.isArray(c)?c:[c]).map(h));return f;function h(e){return d.classList.toggle(e,o)}},attr:function(e,t){var n,r=[];if("object"!=typeof e)return null==t?this.getAttribute(e):this.setAttribute(e,t);for(n in e)t=e[n],r.push(this.setAttribute(n,t));return r},on:function(e,t){return this.addEventListener(e,t)},remove:function(){if(this.parentNode)return this.parentNode.removeChild(this)},insertAfter:function(e,t){return this.insertBefore(e,t.nextSibling)}},n=t.prototype)r(e,n[e]);u={svg:"http://www.w3.org/2000/svg"},h=function(e,t,n){var r,o,u,s;return r=l({},t),n.json&&(r.body=JSON.stringify(n.json),(r.headers||(r.headers={}))["Content-Type"]="application/json; charset=UTF-8"),(o=n.params)&&(e=e+"?"+function(){var e,t=[];for(u in e=o)s=e[u],t.push(u+"="+encodeURIComponent(s));return t}().join("&")),i.fetch.headers&&!n.noDefaultHeaders&&l(r.headers||(r.headers={}),i.fetch.headers),{c:r,u:e}},l(i,{json:function(t){try{return JSON.parse(t)}catch(e){return e,t}},fetch:function(s,i,a){return null==i&&(i={}),null==a&&(a={}),new Promise(function(e,r){var t,n,o,u;return n=(t=h(s,i,a)).u,o=t.c,u=setTimeout(function(){return r(d(1006,"timeout")),u=null},a.timeout||2e4),c(n,o).then(function(n){if(u)return clearTimeout(u),n&&n.ok?e(null!=a.type?n[a.type]():n):n.clone().text().then(function(e){var t;try{if((t=JSON.parse(e))&&"lderror"===t.name)return r(l(d(n.status,e),t))}catch(e){e,t=null}return r(d(n.status,e,t))})}).catch(function(e){return clearTimeout(u),r(e)})})},create:function(n){var t,r,o;return t=n.ns?document.createElementNS(u[n.ns]||n.ns,n.name):document.createElement(n.name),n.style&&l(t.style,n.style),n.attr&&function(){var e,t=[];for(r in e=n.attr)o=e[r],t.push([r,o]);return t}().map(function(e){return t.setAttribute(e[0],e[1])}),n.className&&t.classList.add.apply(t.classList,n.className),n.text&&t.appendChild(document.createTextNode(n.text)),n.html&&(t.innerHTML=n.html),t}}),i.xhr=function(c,l,f){return null==l&&(l={}),null==f&&(f={}),new Promise(function(t,n){var e,r,o,u,s,i,a;for(i in r=(e=h(c,l,f)).u,o=e.c,(u=new XMLHttpRequest).onreadystatechange=function(){var e;if(u.readyState===XMLHttpRequest.DONE){if(200!==u.status)return n(d(u.status,u.responseText));try{e="json"===f.type?JSON.parse(u.responseText):u.responseText}catch(e){return e,n(d(u.status,u.responseText))}return t(e)}},u.onloadstart=function(){return f.progress({percent:0,val:0,len:0})},f.progress&&(s=function(e){var t,n,r;return n=(t=[e.loaded,e.total])[0],r=t[1],f.progress({percent:n/r,val:n,len:r})},u.upload?u.upload.onprogress=s:u.onprogress=s),u.open(o.method||"GET",r,!0),e=o.headers||{})a=e[i],u.setRequestHeader(i,a);return u.send(o.body)})},i.fetch.headers={},"undefined"!=typeof window&&null!==window&&(window.ld$=i,c=window.fetch),"undefined"!=typeof module&&null!==module&&(null==c&&(c=require("node-fetch")),module.exports=i)}function l(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}function r(e,u){return i[e]=function(e){var t,n,r,o;for(n=[],r=1,o=arguments.length;r<o;++r)n.push(arguments[r]);return t=n,u.apply(e,t)}}}).call(this);
